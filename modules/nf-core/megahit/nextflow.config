process {
    withName: MEGAHIT_SINGLE {
        ext.prefix = { "${meta.id}_${meta.assembler}"}
        publishDir = [
            path: { "${params.outdir}/ReadAssembly/megahit/single" },
            mode: params.publish_dir_mode,
            pattern: '*.megahit.fa.gz',
        ]
        ext.args = [
            params.megahit_single_args ? params.megahit_single_args : "",
        ].join(' ').trim()
    }

    withName: MEGAHIT_COASSEMBLY {
        ext.prefix = { "${meta.id}_${meta.assembler}"}
        publishDir = [
            path: { "${params.outdir}/ReadAssembly/megahit/coassembly" },
            mode: params.publish_dir_mode,
            pattern: '*.megahit.fa.gz',
        ]
        ext.args = [
            params.megahit_coassembly_args ? params.megahit_coassembly_args : "",
        ].join(' ').trim()
    }
}